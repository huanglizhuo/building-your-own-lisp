#交互式提示

#读入，求值，输出

  既然我们需要构建编程语言，我们就得通过某种方式和它交互。才C得编译器中，你可以修改你的程序并重新编译它。如果我们可以语言互动那么将是一个进步，这样就可以很快看到不同情形时的结果了。这样我们就得构建一种叫交互式提示的东西。

  这是一个提示用户给一些输入，然后给出一些信息。这是测试编程语言结果最快也是最简单的方式。这种系统被称之为REPL(交互式编程环境)，REPL是 read-evaluate-print-loop 的缩写。如果你以前用过 python 的话，就知道它是于编程语言交互的一种常见方式。

  在构建完整地REPL之前，我们先从简单地开始。先构建一个不论用户输入什么都直接输出。等把这个完成了，接下来我们就可以像lisp那样解析用户的输入并求值了。

![reptitle sort like REPL](./reptile.png)

#交互式提示

  基本的设置是写一个循环不断读入我们的信息，然后继续等待输入。可以用`fgets`获取用户的输入，这是一个C的函数，它会在新行之前一直读入。同时需要一个存储输入的地方。这样需要声明一个固定的输入缓冲区。

  一旦我们把用户的输入存储下来了，随后就用`printf`可以把它打印给用户了。

  ```c
  #include<stdio.h>
  int main(int argc,char** argv){
    //打印版本和退出方式
    puts("lisp version 0.0.0.0.1");
    puts("Press Ctrl_c to Exit\n");
    //一个死循环
    while(1){
        //输出我们的提示
        fputs("lispy> ",stdout);
        //读入用户输入的一行 最大为2048
        fputs(input, 2048 stdin);
        //打印出用户的输入
        printf("No you're a %s",input);
    }
    return 0;
  }
  ```

  上面代码中得`//`是C语言中的注释，后面接得语句是不会被执行的。


